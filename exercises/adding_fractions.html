<!DOCTYPE html>
<html data-require="math math-format">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Adding fractions</title>
    <script src="../khan-exercise.js"></script>
</head>
<body>
    <div class="exercise">
    <div class="vars" data-ensure="SIMP_D1 !== SIMP_D2">
        <var id="N1">randRange( 1, 9 )</var>
        <var id="D1">randRange( N1 + 1, 13 )</var>
        <var id="GCD1">getGCD( N1, D1 )</var>
        <var id="SIMP_N1">N1 / GCD1</var>
        <var id="SIMP_D1">D1 / GCD1</var>

        <var id="N2">randRange( 1, 9 )</var>
        <var id="D2">randRange( N2 + 1, 13 )</var>
        <var id="GCD2">getGCD( N2, D2 )</var>
        <var id="SIMP_N2">N2 / GCD2</var>
        <var id="SIMP_D2">D2 / GCD2</var>

        <var id="LCM">getLCM( SIMP_D1, SIMP_D2 )</var>
    </div>

    <div class="problems">
        <div id="add-fractions">
            <p class="question"><code><var>fraction( N1, D1 )</var> + <var>fraction( N2, D2 )</var> = {?}</code></p>
            <p class="solution" data-type="rational"><var>N1 / D1 + N2 / D2</var></p>
        </div>

        <div id="custom-8" data-weight="0" data-type="add-fractions">
            <div class="vars">
                <var id="N1">1</var>
                <var id="D1">2</var>
                <var id="GCD1">getGCD( N1, D1 )</var>
                <var id="SIMP_N1">N1 / GCD1</var>
                <var id="SIMP_D1">D1 / GCD1</var>

                <var id="N2">1</var>
                <var id="D2">4</var>
                <var id="GCD2">getGCD( N2, D2 )</var>
                <var id="SIMP_N2">N2 / GCD2</var>
                <var id="SIMP_D2">D2 / GCD2</var>

                <var id="LCM">getLCM( SIMP_D1, SIMP_D2 )</var>
            </div>
        </div>
    </div>

    <div class="hints">
        <div data-if="GCD1 !== 1">
            <p>Note that <code><var>N1</var></code> and <code><var>D1</var></code> are both divisible by <code>\blue{<var>GCD1</var>}</code>. Hence, we know that <code><var>fraction( N1, D1 )</var></code> is not in lowest terms. Reducing, we find that <code><var>fraction( N1, D1 )</var> = \blue{<var>fraction( SIMP_N1, SIMP_D1 )</var>}</code>.</p>
        </div>
		<div data-if="GCD2 !== 1">
			<p>Note that <code><var>N2</var></code> and <code><var>D2</var></code> are both divisible by <code>\green{<var>GCD2</var>}</code>. Hence, we know that <code><var>fraction( N2, D2 )</var></code> is not in lowest terms. Reducing, we find that <code><var>fraction( N2, D2 )</var> = \green{<var>fraction( SIMP_N2, SIMP_D2 )</var>}</code>.</p>
        </div>
		<p>The fractions are <span data-if="GCD1 !==1 || GCD2 !== 1">now</span> in lowest terms, so we need to find a common denominator by finding the least common multiple of <code>\blue{<var>SIMP_D1</var>}</code> and <code>\green{<var>SIMP_D2</var>}</code>.</p>
        <p>Using the prime factorization of each value, we find: <code>\lcm(\blue{<var>SIMP_D1</var>}, \green{<var>SIMP_D2</var>}) = <var>LCM</var></code>.</p>
		<p>We need to change each fraction to have a denominator of <code><var>LCM</var></code>. Hence, we can multiply <code>\blue{<var>fraction( SIMP_N1, SIMP_D1 )</var>}</code> by <code><var>fraction( LCM / SIMP_D1, LCM / SIMP_D1 )</code>, and we can multiply <code>\green{<var>fraction( SIMP_N2, SIMP_D2 )</var>}</code> by <code><var>fraction( LCM / SIMP_D2, LCM / SIMP_D2 )</var></code>. </p>
		<div>
            <p><code>\blue{<var>fraction( SIMP_N1, SIMP_D1 )</var>} + \green{<var>fraction( SIMP_N2, SIMP_D2 )</var>}</code></p>
            <p><code>=\blue{<var>fraction( SIMP_N1, SIMP_D1 )</var>}\cdot <var>fraction( LCM / SIMP_D1, LCM / SIMP_D1 )</var> + \green{<var>fraction( SIMP_N2, SIMP_D2 )</var>}\cdot <var>fraction( LCM / SIMP_D2, LCM / SIMP_D2 )</var></code></p>
        </div>
        <div>
			<p>Computing the numerator of each of the two fractions:
			<p><code>=<var>fraction( SIMP_N1 * LCM / SIMP_D1, LCM )</var> + <var>fraction( SIMP_N2 * LCM / SIMP_D2, LCM )</var></code></p>
        </div>
		<div>
			<p>Now that the two fractions have the same denominator, we simply add the numerators:
			<p><code>=<var>fraction( SIMP_N1 * LCM / SIMP_D1 + SIMP_N2 * LCM / SIMP_D2, LCM )</var></code></p>
        </div>
		<div data-if="getGCD( SIMP_N1 * LCM / SIMP_D1 + SIMP_N2 * LCM / SIMP_D2, LCM ) !== 1">
            <p>We see that the numerator and denominator are both divisible by <code><var>getGCD( SIMP_N1 * LCM / SIMP_D1 + SIMP_N2 * LCM / SIMP_D2, LCM )</var></code>. Reducing by this, we have</p>
            <p><code>=<var>fractionReduce( SIMP_N1 * LCM / SIMP_D1 + SIMP_N2 * LCM / SIMP_D2, LCM )</var></code></p>
        </div>
    </div>
    </div>
</body>
</html>
